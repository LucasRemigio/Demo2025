<ng-container *transloco="let t">
    <div class="flex flex-col max-w-240 md:min-w-160 max-h-screen -m-6">
        <!-- Header -->
        <div
            class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary text-on-primary"
        >
            <div class="text-lg font-medium">{{t('Notifications.send-notification')}}</div>
            <button mat-icon-button (click)="close()" [tabIndex]="-1">
                <mat-icon
                    class="text-current"
                    [svgIcon]="'heroicons_outline:x'"
                ></mat-icon>
            </button>
        </div>

        <form
            class="flex flex-col flex-auto p-6 sm:p-8 overflow-y-auto"
            [formGroup]="composeForm"
        >
            <!-- Title -->
            <mat-form-field>
                <mat-label>{{t('to')}}</mat-label>
                <input matInput [formControlName]="'to'" />
                <mat-error *ngIf="composeForm.get('to').hasError('required')">
                    {{t('Notifications.title-not-valid')}}
                </mat-error>
            </mat-form-field>

            <!-- Subject -->
            <mat-form-field>
                <mat-label>{{t('Notifications.subject')}}</mat-label>
                <input matInput [formControlName]="'subject'" />
                <mat-error *ngIf="composeForm.get('subject').hasError('required')">
                    {{t('Notifications.subject-not-valid')}}
                </mat-error>
            </mat-form-field>

            <!-- Body -->
            <mat-form-field>
                <mat-label>{{t('Notifications.body')}}</mat-label>
                <textarea
                    matInput
                    [formControlName]="'body'"
                    [rows]="3"
                    matTextareaAutosize
                ></textarea>
                <mat-error *ngIf="composeForm.get('body').hasError('required')">
                    {{t('Notifications.body-not-valid')}}
                </mat-error>
            </mat-form-field>

            <button
                class="p-6 bg-gray-300 mt-10"
                mat-flat-button
                (click)="saveAndClose()"
                [disabled]="composeForm.invalid"
            >
                {{t('Notifications.send')}}
            </button>
        </form>
    </div>
</ng-container>